

<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HackStack Posts</title>
  <meta name="description" content="OpenStack and other hackish things">
  <meta name="author" content="dtroyer">

  <link rel="alternate" type="application/rss+xml" title="RSS 2.0"
        href="/x/blog/feed/">
  <link rel="alternate" type="application/atom+xml" title="Atom 1.0"
        href="/x/blog/feed/atom/">

  <link rel="shortcut icon" href="/x/favicon.ico">
  <link rel="apple-touch-icon"
        href="/x/img/apple-touch-icon.png">

  <link rel="stylesheet" href="/x/css/base.css?v=1">
  <link rel="stylesheet" href="/x/css/grid.css?v=1">
  <link rel="stylesheet" media="handheld"
        href="/x/css/handheld.css?v=1">
  <link rel="stylesheet"
        href="/x/css/pygments_murphy.css">

  <script
    src="/x/js/libs/modernizr-1.7.min.js">
  </script>

  <link rel="stylesheet" href="/x/themes/theme1/style.css?v=1">
<link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Quantico' rel='stylesheet' type='text/css'>


</head>
  <body>
    <div id="container" class="container container_12">
      <div id="main" role="main">
        <div id="main_block">
          <header>
  <div id="header" class="header_gradient theme_font">
    <h1>
      <a href="/x/">
        HackStack Posts
      </a>
    </h1>
    <h2>OpenStack and other hackish things</h2>
  </div>
  <div id="navigation" class="grid_12">
    
    
    <ul class="theme_font">
      <li>
        
        <a href="/x/" class="">Home</a>
      </li>
      <li>
        
        <a href="/x/blog" class="selected">Blog</a>
      </li>
      <li>
        
        <a href="/x/blog/archive/" class="">Archives</a>
      </li>
    </ul>
  </div>
</header>

          <div id="prose_block" class="grid_11">
            




<article>
  <div class="blog_post">
    <header>
      <div id="layers-redux"></div>
      <h1 class="blog_post_title"><a href="/x/blog/2017/02/27/layers-redux/" rel="bookmark" title="Permanent Link to Layers Redux">Layers Redux</a></h1>
      <p><small><span class="blog_post_date">February 27, 2017 at 02:27 AM</span> | categories: 
        <span class="blog_post_categories">openstack</span>
      </small></p>
    </header>
    <div class="post_prose">
      
<div class="document">
<p>It has been a while since I <a class="reference external" href="/x/blog/2014/10/03/a-funny-thing-happened-on-the-way-to-the-summit/">last wrote about 'layers' in OpenStack projects/services</a>.  Many things have happened since then in and around the OpenStack community including some specific relationships with other cloud projects.  Most notably Kubernetes and OpenStack seem to be finding a number of commonalities.  ##TODO(get some specifics)</p>
<p>The 'big tent' ##TODO(get the official name) governance model still has mixed reviews (ha!) in the community.  We have had an explosion in 'official OpenStack projects', and apparently even more hurt feelings for projects that simply are not ready or still do not fit the 'one of us' tests.  But more than just that, some official projects still also have hurt feelings because big tent did not level the playing field in the manner they hoped it would.</p>
<p>I do not know how expectations that a new governance model would change things like Keystone being a requirement for the majority of deployments, or why Triple-O or Fuel are not magically the presumed deployment platforms because they are 'official'.  Some things might have changed because they were created or motivated by political/policy/financial reasons, often within the companies that fund this entire effort to begin with.  But some things are the way they are because of technical and architectural reasons that a governance change is not meant to address.</p>
<p>Let me get specific: I had a Twitter conversation (I know!) some time ago on containers maybe now being a 'first class' citizen.  I do not know specifics on why Magnum feels like they are not first class, nor exactly what that means.  But I can say that in relationship to the layers concept I write about here it has nothing to do with perceptions nor other non-technical reasons why Magnum might at best be a layer 2 project, possibly layer 3, TBD.</p>
<p>My real question on Twitter was asking to see a container-only cloud configuration (in DevStack because, well, I know a little about that, but any deployment tech would work) that did not require Nova or Ironic.  Magnum requires _something_ to manage the Linux OS that it uses for the host for its containers.  That would be Nova for containers-in-a-VM or Ironic for containers-on-baremetal.  So Magnum is at least layer 3 if not higher.  If Magnum uses something else for that functionality it has either duplicated work unnecessarily or is dependent on non-OpenStack projects and the 'one of us' questions may need to be revisited.</p>
<p>For what it's worth, I don't think either of those are the case, it is just a desire to not feel put down that the teams that depend on Nova or Glance or Keystone have, and a feeling of being left out of the action.  Realistically, the real action in OpenStack these days is in the upper layers anyway.  Maintaining the lower layers of the stack is approaching commodity work, unless you are talking about major re-factoring such as the current scheduler or placement API work in Nova.</p>
<div class="section" id="layers-redux">
<h1>Layers Redux</h1>
<p>So how do layers stand up to the ravages of 2+ years since I last visited it here?  One thing I do want to do is adjust the layer numbers to include a distinction that I did not in the earlier incarnation: required services.  Outside of the Layer 0 support services that are not directly OpenStack projects, and ignoring stand-alone deployments of any given service, there is currently only one service in OpenStack that is required, and that is Keystone.</p>
<div class="section" id="layer-1-required-services">
<h2>Layer 1: Required Services</h2>
<blockquote>
<ul class="simple">
<li>Identity (Keystone)</li>
</ul>
</blockquote>
<p>Every other service in OpenStack uses the Identity API via Keystone to authenticate the majority of operations.</p>
<p>The conversations have begun regarding expanding this list, specifically around the need to key/secret management. Multiple projects have began their own implementation and that is one signal that a common need exists.  I will not get in to the discussions regarding Barbican here ##TODO(link to those) but should it be adopted as a required service it would automatically fall down to layer 1.</p>
</div>
<div class="section" id="layer-2-the-compute-basics">
<h2>Layer 2: The Compute Basics</h2>
<blockquote>
<ul class="simple">
<li>Image (Glance)</li>
<li>Network (Neutron)</li>
<li>Compute (Nova)</li>
</ul>
</blockquote>
<p>Everything else aside from Object Storage builds on top of OpenStack's Infrastructure as a Service.  Neutron is no longer an exception as Nova Network is not only officially deprecated it is ##TODO(find out when) soon to be removed altogether.</p>
<div class="section" id="options">
<h3>Options</h3>
<blockquote>
<ul class="simple">
<li>Bare Metal (Ironic)</li>
</ul>
</blockquote>
<p>Ironic runs as a Nova driver when Nova is present, but I understand that it is able to stand alone without Nova and manage bare servers.  If/when this is the case, an IaaS cloud should be possible without Nova.  Without this Ironic remains a Layer 3 service.</p>
</div>
</div>
<div class="section" id="layer-3-base-extensions">
<h2>Layer 3: Base Extensions</h2>
<blockquote>
<ul class="simple">
<li>Bare Metal (Ironic)</li>
<li>Containers (Magnum)</li>
<li>Object Storage (Swift)</li>
<li>Orchestration (Heat)</li>
<li>Volume aka Block Storage (Cinder)</li>
<li>Share aka File Storage (Manila)</li>
</ul>
</blockquote>
</div>
<div class="section" id="layer-4-the-options">
<h2>Layer 4: The Options</h2>
<blockquote>
<ul class="simple">
<li>Dashboard (Horizon)</li>
<li>DNS (Designate)</li>
<li>Key Management (Barbican)</li>
<li>Telemetry (Ceilometer)</li>
</ul>
</blockquote>
<p>The interesting services here are Designate and Barbican as they both provide service to other OpenStack components when they are installed.</p>
</div>
<div class="section" id="layer-5-xaas">
<h2>Layer 5: XaaS</h2>
<blockquote>
<ul class="simple">
<li>Application Catalog (Murano)</li>
<li>Database (Trove)</li>
<li>Elastic Map Reduce (Sahara)</li>
<li>Governance (Congress)</li>
<li>Messaging (Zaqar)</li>
</ul>
</blockquote>
<p>OpenStack includes a selection of services that are basically another layer in the application stack.</p>
</div>
<div class="section" id="layer-c-containers">
<h2>Layer C: Containers</h2>
<p>One of the major changes since my last visit to the layer cake has been the maturing of the Linux container landscape and emergence of a couple of models in how they both provide services to an OpenStack deployment (running control-plane services) and cloud applications (serving the consumers of the cloud).</p>
<p>Kolla plays in this space, and is missing from the lists above, mostly because it is really an OpenStack deployment project and therefore not in the same position as the cloud services.  We have quite a number of these currently, some still going strong (Triple-O, OpenStack Ansible) and some seemingly on life support (Fuel, OpenStack Puppet ##TODO(verify these names)).</p>
<p>The interesting container tech that seems to be getting a lot of mindshare here is Kubernetes.  It can operate in both of the container models I mentioned above, and even at the same time by running multiple distinct deployments.</p>
<p>One direction that also seems to be getting some mindshare is evolving the project positioning to make the compute resource types (bare metal, virtual machine and container) peers, at least as seen by cloud consumers.  Here is where I think the conversation around Magnum and &quot;first classness&quot; returns.  While technically the layering does not change, the perception to the cloud users does.</p>
</div>
</div>
</div>


    </div>
  </div>
</article>




          </div>
          <div id="sidebar" class="grid_1">
            <aside>
  <section>
<!--
    <h1 class="post_header_gradient theme_font">Latest Posts</h1>
    <ul>
      <li><a href="/x/blog/2017/04/14/who-are-we-really-really/">Who Are We?  Really?  Really!</a></li>
      <li><a href="/x/blog/2015/04/30/client-cloud-configuration/">Client Cloud Configuration</a></li>
      <li><a href="/x/blog/2015/04/18/openstackclient-is-three-and-official/">OpenStackClient Is Three and Official</a></li>
      <li><a href="/x/blog/2015/03/30/qa-code-sprint/">QA Code Sprint</a></li>
      <li><a href="/x/blog/2015/03/08/plug-in-to-openstackclient/">Plug In To OpenStackClient</a></li>
    </ul>
-->
  </section>
<!--
  <section>
    <h1 class="post_header_gradient theme_font">From Twitter "example"</h1>
    <div id="on_twitter">
      <div id="tweets"></div>
      <a href="http://search.twitter.com/search?q=example" style="float: right">See more tweets</a>
    </div>
  </section>
-->
</aside>

          </div>
          <div class="clear"></div>
        </div>
      </div>
      
<footer>
  <div id="footer" class="grid_12">
    <div class="grid_8">
      <p>
        <a href="/x/blog/feed/index.xml">RSS</a>
      </p>
    </div>
    <div class="grid_4" id="credits">
      <p>
        Copyright 2017
        dtroyer
      </p>
      <p>
        Powered by <a href="http://www.blogofile.com">Blogofile</a>
      </p>
    </div>
  </div>
</footer>

    </div>
      <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/js/libs/jquery-1.5.1.min.js"%3E%3C/script%3E'))</script>
  <script src="/x/js/plugins.js"></script>
  <script src="/x/js/script.js"></script>
  <script src="/x/js/jquery.tweet.js"></script>  
  <script src="/x/js/site.js"></script>
  <!--[if lt IE 7 ]>
  <script src="js/libs/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg');</script>
  <![endif]-->
  <script>
      var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
      (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
      g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
      s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>

  </body>
</html>






